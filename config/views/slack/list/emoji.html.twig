{% extends "base.html.twig" %}

{% block title %}Emojis List{% endblock title %}

{% block content %}
<body class="bg-light">
<div class="container" style="margin-top: 1rem; margin-bottom: 3rem;">
    <div class="row">
        <div class="col-12 text-center">
            <p>Last update: <span id="update">{{ date|date('H:i') }}</span></p>
        </div>
    </div>
    <div class="row">
        <ul class="list-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12" style="padding-left: 15px;">
            {% for emoji in emojis %}
                <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    <img src="{{ emoji.2 }}" alt="" style="max-height: 1.5em; width: auto;">
                    <code>:{{ emoji.1 }}:</code>
                    <span class="badge badge-secondary badge-pill">{{ emoji.0 }}</span>
                </a>
            {% endfor %}
        </ul>
    </div>
</div>
</body>
{% endblock content %}

{% block scripts %}
<script>
    const links = document.querySelectorAll('a.list-group-item')

    links.forEach(link => {
        link.onclick = () => {
            document.execCommand('copy')
        }
        link.addEventListener('copy', event => {
            event.preventDefault()
            if (event.clipboardData) {
                event.clipboardData.setData('text/plain', link.querySelector('code').textContent)
                console.log("Copied to clipboard: " + event.clipboardData.getData('text'))
            }
        })
    })
</script>
{% endblock scripts %}
